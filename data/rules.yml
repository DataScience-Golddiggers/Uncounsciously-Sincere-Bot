version: "3.1"

rules:
- rule: Say goodbye anytime the user says goodbye
  steps:
  - intent: goodbye
  - action: utter_goodbye

- rule: Say 'I am a bot' anytime the user challenges
  steps:
  - intent: bot_challenge
  - action: utter_iamabot

- rule: Activate enrollment form
  steps:
  - intent: apply_for_course
  - action: enrollment_form
  - active_loop: enrollment_form

- rule: Submit form
  condition:
  - active_loop: enrollment_form
  steps:
  - action: enrollment_form
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: utter_submit

- rule: Respond to bot challenge without enrollment
  steps:
  - intent: bot_challenge
  - action: utter_iamabot

- rule: Greet user anytime they greet
  steps:
  - intent: greet
  - action: utter_greet

- rule: Answer deadlines anytime asked
  steps:
  - intent: ask_deadlines
  - action: utter_deadlines

- rule: Continue with enrollment form when slot requested
  condition:
  - active_loop: enrollment_form
  steps:
  - action: enrollment_form
  - active_loop: enrollment_form

- rule: Handle deadline inquiry in sequence
  steps:
  - intent: ask_deadlines
  - action: utter_deadlines
  - active_loop: null

- rule: Respond to greet without subsequent action
  steps:
  - intent: greet
  - action: utter_greet
  - active_loop: null

- rule: Handle exit from enrollment
  condition:
  - active_loop: enrollment_form
  steps:
  - intent: goodbye
  - action: utter_goodbye
  - active_loop: null

- rule: Multiple deadline queries
  steps:
  - intent: ask_deadlines
  - action: utter_deadlines

- rule: Bot challenge can interrupt
  steps:
  - intent: bot_challenge
  - action: utter_iamabot

- rule: Cancel enrollment with goodbye
  condition:
  - active_loop: enrollment_form
  steps:
  - intent: goodbye
  - active_loop: null
  - action: utter_goodbye

- rule: Apply intent always starts form
  steps:
  - intent: apply_for_course
  - action: enrollment_form
  - active_loop: enrollment_form

- rule: Process slots in active loop
  condition:
  - active_loop: enrollment_form
  steps:
  - action: enrollment_form

- rule: Arrivederci italiano
  steps:
  - intent: goodbye_it
  - action: utter_goodbye

- rule: Saluta italiano
  steps:
  - intent: greet_it
  - action: utter_greet

- rule: Sfida bot italiano
  steps:
  - intent: bot_challenge_it
  - action: utter_iamabot

- rule: Attiva form iscrizione italiano
  steps:
  - intent: apply_for_course_it
  - action: enrollment_form
  - active_loop: enrollment_form

- rule: Chiedi scadenze italiano
  steps:
  - intent: ask_deadlines_it
  - action: utter_deadlines

- rule: Continua form durante loop
  condition:
  - active_loop: enrollment_form
  steps:
  - action: enrollment_form
  - active_loop: enrollment_form

- rule: Esci da form con arrivederci italiano
  condition:
  - active_loop: enrollment_form
  steps:
  - intent: goodbye_it
  - action: utter_goodbye
  - active_loop: null

- rule: Molteplici sfide bot italiano
  steps:
  - intent: bot_challenge_it
  - action: utter_iamabot

- rule: Saluta poi scadenze italiano
  steps:
  - intent: greet_it
  - action: utter_greet
  - intent: ask_deadlines_it
  - action: utter_deadlines

- rule: Scadenze senza altre azioni italiano
  steps:
  - intent: ask_deadlines_it
  - action: utter_deadlines
  - active_loop: null

- rule: Saluta solo italiano
  steps:
  - intent: greet_it
  - action: utter_greet
  - active_loop: null

- rule: Processo slot in loop italiano
  condition:
  - active_loop: enrollment_form
  steps:
  - action: enrollment_form

- rule: Iscrizione italiano inizia form
  steps:
  - intent: apply_for_course_it
  - action: enrollment_form
  - active_loop: enrollment_form

- rule: Invia form italiano quando completo
  condition:
  - active_loop: enrollment_form
  steps:
  - action: enrollment_form
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - action: utter_submit

- rule: Sfida bot senza iscrizione italiano
  steps:
  - intent: bot_challenge_it
  - action: utter_iamabot

- rule: Inform intent standalone
  steps:
  - intent: inform
  - action: utter_greet

- rule: Inform intent standalone Italian
  steps:
  - intent: inform_it
  - action: utter_greet

- rule: Greet then ask deadlines
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_deadlines
  - action: utter_deadlines

- rule: Greet then ask deadlines Italian
  steps:
  - intent: greet_it
  - action: utter_greet
  - intent: ask_deadlines_it
  - action: utter_deadlines

- rule: Greet then apply for course
  steps:
  - intent: greet
  - action: utter_greet
  - intent: apply_for_course
  - action: enrollment_form
  - active_loop: enrollment_form

- rule: Greet then apply Italian
  steps:
  - intent: greet_it
  - action: utter_greet
  - intent: apply_for_course_it
  - action: enrollment_form
  - active_loop: enrollment_form

- rule: Ask deadlines then apply
  steps:
  - intent: ask_deadlines
  - action: utter_deadlines
  - intent: apply_for_course
  - action: enrollment_form
  - active_loop: enrollment_form

- rule: Ask deadlines then apply Italian
  steps:
  - intent: ask_deadlines_it
  - action: utter_deadlines
  - intent: apply_for_course_it
  - action: enrollment_form
  - active_loop: enrollment_form

- rule: Bot challenge during enrollment
  condition:
  - active_loop: enrollment_form
  steps:
  - intent: bot_challenge
  - action: utter_iamabot

- rule: Bot challenge during enrollment Italian
  condition:
  - active_loop: enrollment_form
  steps:
  - intent: bot_challenge_it
  - action: utter_iamabot

- rule: Handle inform in enrollment form
  condition:
  - active_loop: enrollment_form
  steps:
  - intent: inform
  - action: enrollment_form

- rule: Handle inform in enrollment form Italian
  condition:
  - active_loop: enrollment_form
  steps:
  - intent: inform_it
  - action: enrollment_form

- rule: Ask deadlines after greeting
  steps:
  - intent: greet
  - action: utter_greet
  - intent: ask_deadlines
  - action: utter_deadlines
  - intent: goodbye
  - action: utter_goodbye

- rule: Ask deadlines after greeting Italian
  steps:
  - intent: greet_it
  - action: utter_greet
  - intent: ask_deadlines_it
  - action: utter_deadlines
  - intent: goodbye_it
  - action: utter_goodbye

- rule: Apply then ask deadlines
  steps:
  - intent: apply_for_course
  - action: enrollment_form
  - active_loop: enrollment_form

- rule: Apply then ask deadlines Italian
  steps:
  - intent: apply_for_course_it
  - action: enrollment_form
  - active_loop: enrollment_form

- rule: Deadline query outside enrollment
  condition:
  - active_loop: null
  steps:
  - intent: ask_deadlines
  - action: utter_deadlines

- rule: Deadline query outside enrollment Italian
  condition:
  - active_loop: null
  steps:
  - intent: ask_deadlines_it
  - action: utter_deadlines

- rule: Greet followed by bot challenge
  steps:
  - intent: greet
  - action: utter_greet
  - intent: bot_challenge
  - action: utter_iamabot

- rule: Greet followed by bot challenge Italian
  steps:
  - intent: greet_it
  - action: utter_greet
  - intent: bot_challenge_it
  - action: utter_iamabot

- rule: Deadline then goodbye
  steps:
  - intent: ask_deadlines
  - action: utter_deadlines
  - intent: goodbye
  - action: utter_goodbye

- rule: Deadline then goodbye Italian
  steps:
  - intent: ask_deadlines_it
  - action: utter_deadlines
  - intent: goodbye_it
  - action: utter_goodbye

- rule: Apply after bot challenge
  steps:
  - intent: bot_challenge
  - action: utter_iamabot
  - intent: apply_for_course
  - action: enrollment_form
  - active_loop: enrollment_form

- rule: Apply after bot challenge Italian
  steps:
  - intent: bot_challenge_it
  - action: utter_iamabot
  - intent: apply_for_course_it
  - action: enrollment_form
  - active_loop: enrollment_form

- rule: Consecutive apply intents
  steps:
  - intent: apply_for_course
  - action: enrollment_form
  - active_loop: enrollment_form

- rule: Consecutive apply intents Italian
  steps:
  - intent: apply_for_course_it
  - action: enrollment_form
  - active_loop: enrollment_form

- rule: Inform then goodbye during enrollment
  condition:
  - active_loop: enrollment_form
  steps:
  - intent: inform
  - action: enrollment_form
  - intent: goodbye
  - action: utter_goodbye
  - active_loop: null

- rule: Inform then goodbye during enrollment Italian
  condition:
  - active_loop: enrollment_form
  steps:
  - intent: inform_it
  - action: enrollment_form
  - intent: goodbye_it
  - action: utter_goodbye
  - active_loop: null

- rule: Deadline query no form action
  steps:
  - intent: ask_deadlines
  - action: utter_deadlines

- rule: Deadline query no form action Italian
  steps:
  - intent: ask_deadlines_it
  - action: utter_deadlines

- rule: Apply with prior deadline inquiry
  steps:
  - intent: ask_deadlines
  - action: utter_deadlines
  - intent: apply_for_course
  - action: enrollment_form
  - active_loop: enrollment_form

- rule: Apply with prior deadline inquiry Italian
  steps:
  - intent: ask_deadlines_it
  - action: utter_deadlines
  - intent: apply_for_course_it
  - action: enrollment_form
  - active_loop: enrollment_form

- rule: Bot challenge then deadline
  steps:
  - intent: bot_challenge
  - action: utter_iamabot
  - intent: ask_deadlines
  - action: utter_deadlines

- rule: Bot challenge then deadline Italian
  steps:
  - intent: bot_challenge_it
  - action: utter_iamabot
  - intent: ask_deadlines_it
  - action: utter_deadlines

- rule: Goodbye cancels enrollment immediately
  condition:
  - active_loop: enrollment_form
  steps:
  - intent: goodbye
  - action: utter_goodbye
  - active_loop: null

- rule: Goodbye cancels enrollment immediately Italian
  condition:
  - active_loop: enrollment_form
  steps:
  - intent: goodbye_it
  - action: utter_goodbye
  - active_loop: null

- rule: Handle slot submission
  condition:
  - active_loop: enrollment_form
  steps:
  - action: enrollment_form
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: utter_submit

- rule: Handle slot submission Italian
  condition:
  - active_loop: enrollment_form
  steps:
  - action: enrollment_form
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - action: utter_submit

- rule: Inform provides student name
  condition:
  - active_loop: enrollment_form
  steps:
  - intent: inform
  - slot_was_set:
    - student_name: null
  - action: enrollment_form

- rule: Inform provides student name Italian
  condition:
  - active_loop: enrollment_form
  steps:
  - intent: inform_it
  - slot_was_set:
    - student_name: null
  - action: enrollment_form

- rule: Inform provides degree type
  condition:
  - active_loop: enrollment_form
  steps:
  - intent: inform
  - slot_was_set:
    - degree_type: null
  - action: enrollment_form

- rule: Inform provides degree type Italian
  condition:
  - active_loop: enrollment_form
  steps:
  - intent: inform_it
  - slot_was_set:
    - degree_type: null
  - action: enrollment_form

- rule: Inform provides course name
  condition:
  - active_loop: enrollment_form
  steps:
  - intent: inform
  - slot_was_set:
    - course_name: null
  - action: enrollment_form

- rule: Inform provides course name Italian
  condition:
  - active_loop: enrollment_form
  steps:
  - intent: inform_it
  - slot_was_set:
    - course_name: null
  - action: enrollment_form

- rule: Greet and goodbye sequence
  steps:
  - intent: greet
  - action: utter_greet
  - intent: goodbye
  - action: utter_goodbye

- rule: Greet and goodbye sequence Italian
  steps:
  - intent: greet_it
  - action: utter_greet
  - intent: goodbye_it
  - action: utter_goodbye

- rule: Multiple greeting attempts
  steps:
  - intent: greet
  - action: utter_greet

- rule: Multiple greeting attempts Italian
  steps:
  - intent: greet_it
  - action: utter_greet

- rule: Handle deadline info request
  steps:
  - intent: ask_deadlines
  - action: utter_deadlines

- rule: Handle deadline info request Italian
  steps:
  - intent: ask_deadlines_it
  - action: utter_deadlines

- rule: Apply for course response
  steps:
  - intent: apply_for_course
  - action: enrollment_form
  - active_loop: enrollment_form

- rule: Apply for course response Italian
  steps:
  - intent: apply_for_course_it
  - action: enrollment_form
  - active_loop: enrollment_form

- rule: Bot identity clarification
  steps:
  - intent: bot_challenge
  - action: utter_iamabot

- rule: Bot identity clarification Italian
  steps:
  - intent: bot_challenge_it
  - action: utter_iamabot

- rule: Exit enrollment and greet again
  condition:
  - active_loop: enrollment_form
  steps:
  - intent: goodbye
  - action: utter_goodbye
  - active_loop: null
  - intent: greet
  - action: utter_greet

- rule: Exit enrollment and greet again Italian
  condition:
  - active_loop: enrollment_form
  steps:
  - intent: goodbye_it
  - action: utter_goodbye
  - active_loop: null
  - intent: greet_it
  - action: utter_greet

- rule: Challenge then goodbye
  steps:
  - intent: bot_challenge
  - action: utter_iamabot
  - intent: goodbye
  - action: utter_goodbye

- rule: Challenge then goodbye Italian
  steps:
  - intent: bot_challenge_it
  - action: utter_iamabot
  - intent: goodbye_it
  - action: utter_goodbye

- rule: Deadline challenge combination
  steps:
  - intent: ask_deadlines
  - action: utter_deadlines
  - intent: bot_challenge
  - action: utter_iamabot

- rule: Deadline challenge combination Italian
  steps:
  - intent: ask_deadlines_it
  - action: utter_deadlines
  - intent: bot_challenge_it
  - action: utter_iamabot

- rule: Preserve form state with inform
  condition:
  - active_loop: enrollment_form
  steps:
  - intent: inform
  - action: enrollment_form
  - active_loop: enrollment_form

- rule: Preserve form state with inform Italian
  condition:
  - active_loop: enrollment_form
  steps:
  - intent: inform_it
  - action: enrollment_form
  - active_loop: enrollment_form

- rule: Answer course info question
  steps:
  - intent: ask_course_info
  - action: utter_course_info

- rule: Answer course info question Italian
  steps:
  - intent: ask_course_info_it
  - action: utter_course_info_it

- rule: Answer requirements info question
  steps:
  - intent: ask_requirements_info
  - action: utter_requirements_info

- rule: Answer requirements info question Italian
  steps:
  - intent: ask_requirements_info_it
  - action: utter_requirements_info_it

- rule: Answer schedule info question
  steps:
  - intent: ask_schedule_info
  - action: utter_schedule_info

- rule: Answer schedule info question Italian
  steps:
  - intent: ask_schedule_info_it
  - action: utter_schedule_info_it

- rule: Answer financial info question
  steps:
  - intent: ask_financial_info
  - action: utter_financial_info

- rule: Answer financial info question Italian
  steps:
  - intent: ask_financial_info_it
  - action: utter_financial_info_it

- rule: Answer campus info question
  steps:
  - intent: ask_campus_info
  - action: utter_campus_info

- rule: Answer campus info question Italian
  steps:
  - intent: ask_campus_info_it
  - action: utter_campus_info_it

- rule: Answer admission requirements question
  steps:
  - intent: ask_admission_requirements
  - action: utter_admission_requirements

- rule: Answer admission requirements question Italian
  steps:
  - intent: ask_admission_requirements_it
  - action: utter_admission_requirements_it

- rule: Suggest course program
  steps:
  - intent: ask_course_suggestion
  - action: utter_suggest_course

- rule: Suggest course program Italian
  steps:
  - intent: ask_course_suggestion_it
  - action: utter_suggest_course_it

- rule: Answer FAQ question
  steps:
  - intent: ask_faq
  - action: utter_faq

- rule: Answer FAQ question Italian
  steps:
  - intent: ask_faq_it
  - action: utter_faq_it

- rule: Provide help response
  steps:
  - intent: ask_help
  - action: utter_help

- rule: Provide help response Italian
  steps:
  - intent: ask_help_it
  - action: utter_help_it

- rule: Provide contact support information
  steps:
  - intent: ask_contact_support
  - action: utter_contact_support

- rule: Provide contact support information Italian
  steps:
  - intent: ask_contact_support_it
  - action: utter_contact_support_it